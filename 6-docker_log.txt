# docker-compose up --build

#NOTE: Run on http://localhost:7860


[+] Building 6.3s (14/14) FINISHED                                                                  
 => [internal] load local bake definitions                                                     0.0s
 => => reading from stdin 651B                                                                 0.0s
 => [internal] load build definition from Dockerfile                                           0.0s
 => => transferring dockerfile: 942B                                                           0.0s
 => [internal] load metadata for docker.io/library/python:3.11-slim                            6.0s
 => [auth] library/python:pull token for registry-1.docker.io                                  0.0s
 => [internal] load .dockerignore                                                              0.0s
 => => transferring context: 564B                                                              0.0s
 => [1/6] FROM docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691df  0.0s
 => => resolve docker.io/library/python:3.11-slim@sha256:1dd3dca85e22886e44fcad1bb7ccab6691df  0.0s
 => [internal] load build context                                                              0.0s
 => => transferring context: 27.62kB                                                           0.0s
 => CACHED [2/6] WORKDIR /app                                                                  0.0s
 => CACHED [3/6] RUN apt-get update &&     apt-get install -y ffmpeg &&     rm -rf /var/lib/a  0.0s
 => CACHED [4/6] COPY requirements.txt .                                                       0.0s
 => CACHED [5/6] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-d  0.0s
 => [6/6] COPY . .                                                                             0.0s
 => exporting to image                                                                         0.1s
 => => exporting layers                                                                        0.0s
 => => exporting manifest sha256:d5e78544eee810917a9d3ce324a6e7ba8619b005671626dd701b2729a2cd  0.0s
 => => exporting config sha256:c4d00c1fb4245583a58ba15e61338e02d9863019344b6cba8c74c05981cf1e  0.0s
 => => exporting attestation manifest sha256:72a8e24973a11e1fc879f192f0a1fce9e6a2adf24c39e819  0.0s
 => => exporting manifest list sha256:df2d1a7edb5b44b9f61105983e5cdb13248d5790166419088117397  0.0s
 => => naming to docker.io/library/judges-familiar:latest                                      0.0s
 => => unpacking to docker.io/library/judges-familiar:latest                                   0.0s
 => resolving provenance for metadata file                                                     0.0s
[+] Running 2/2
 ✔ judges-familiar:latest     Built                                                            0.0s 
 ✔ Container judges_familiar  Recreated                                                        0.1s 
Attaching to judges_familiar
judges_familiar  | Awakening the Owl...
judges_familiar  | [LOG] Building Rules Index...
judges_familiar  | [LOG] Starting Rules Parsing...
judges_familiar  | [LOG] Processing 2217 lines of glossary...
judges_familiar  | 
judges_familiar  | ==================================================
judges_familiar  | DATASET STATISTICS (RULES)
judges_familiar  |    Total Nodes:      3834
judges_familiar  |    Rules Parsed:     3109
judges_familiar  |    Glossary Terms:   725
judges_familiar  | ==================================================
judges_familiar  | 
judges_familiar  | 
judges_familiar  | [SAMPLE RULE] {
judges_familiar  |   "rule_id": "110.5d",
judges_familiar  |   "chapter_id": "1",
judges_familiar  |   "chapter_title": "Game Concepts",
judges_familiar  |   "section_id": "111",
judges_familiar  |   "section_title": "Tokens",
judges_familiar  |   "text": "Only permanents have status. Cards not on the battlefield do not. Although an exiled card may be face down, this has no correlation to the face-down status of a permanent. Similarly, cards not on the battlefield are neither tapped nor untapped, regardless of their physical state."
judges_familiar  | }
judges_familiar  | 
judges_familiar  | [SAMPLE GLOSSARY] {
judges_familiar  |   "rule_id": "Renown",
judges_familiar  |   "chapter_id": "G",
judges_familiar  |   "chapter_title": "Glossary",
judges_familiar  |   "section_id": null,
judges_familiar  |   "section_title": null,
judges_familiar  |   "text": "A keyword ability that makes a creature stronger after it deals combat damage to a player. See rule 702.112, \u201cRenown.\u201d"
judges_familiar  | }
Parsing nodes: 100%|██████████| 3834/3834 [00:00<00:00, 9078.96it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:22<00:00, 92.18it/s] 
Generating embeddings: 100%|██████████| 1786/1786 [00:13<00:00, 135.92it/s]
judges_familiar  | [LOG] Building Cards Index...
judges_familiar  | [LOG] Downloading AtomicCards.json...
judges_familiar  | [LOG] Processing Cards JSON...
100%|██████████| 33071/33071 [00:00<00:00, 41816.96card/s]
judges_familiar  | 
judges_familiar  | ==================================================
judges_familiar  | DATASET STATISTICS (CARDS)
judges_familiar  |    Cards Indexed:    30225
judges_familiar  |    Format Skipped:   2846 (Not Legal)
judges_familiar  | ==================================================
judges_familiar  | 
judges_familiar  | 
judges_familiar  | [SAMPLE CARD] {
judges_familiar  |   "card_name": "Predator's Howl",
judges_familiar  |   "text": "Card Name: Predator's Howl\nFormat Legality: Legacy: Legal, Vintage: Legal, Commander: Legal\nCost: {3}{G}\nType: Instant\nOracle Text:\nCreate a 2/2 green Wolf creature token.\nMorbid — Create three 2/2 green Wolf creature tokens instead if a creature died this turn.\n"
judges_familiar  | }
judges_familiar  | 
Parsing nodes: 100%|██████████| 30225/30225 [00:04<00:00, 6253.55it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:17<00:00, 116.55it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:18<00:00, 113.38it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:19<00:00, 105.41it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:17<00:00, 116.04it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:19<00:00, 105.58it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:19<00:00, 104.36it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:18<00:00, 112.23it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:20<00:00, 98.62it/s] 
Generating embeddings: 100%|██████████| 2048/2048 [00:27<00:00, 73.93it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:25<00:00, 79.76it/s] 
Generating embeddings: 100%|██████████| 2048/2048 [00:24<00:00, 82.69it/s]
Generating embeddings: 100%|██████████| 2048/2048 [00:23<00:00, 86.25it/s] 
Generating embeddings: 100%|██████████| 2048/2048 [00:27<00:00, 75.40it/s] 
Generating embeddings: 100%|██████████| 2048/2048 [00:26<00:00, 76.06it/s] 
Generating embeddings: 100%|██████████| 1553/1553 [00:17<00:00, 89.09it/s] 
judges_familiar  | * Running on local URL:  http://0.0.0.0:7860
judges_familiar  | * To create a public link, set `share=True` in `launch()`.


v View in Docker Desktop   o View Config   w Enable Watch
